<?xml version="1.0" encoding="UTF-8"?>
<record_update table="x_msap2_report_gen_report_data_set">
    <x_msap2_report_gen_report_data_set action="INSERT_OR_UPDATE">
        <active>true</active>
        <advanced>true</advanced>
        <advanced_data_script><![CDATA[/*
 * Ran after all the rows for this data set are loaded (Note that if this is a subset, this will run once all the data for a single parent is loaded)
 * reportData: The work in progress data loading for the report.
 * grDataSet: The current data set
 * dataRows: An array of all the rows in the current data set (Note that if this is a subset this will include loads for other records)
 * parentId: The ID of the parent record to the record currently being processed, or null if this is the root data set.
 */
(function postProcess(reportData, grDataSet, dataRows, parentId) {
	/* Your code here */
})(reportData, grDataSet, dataRows, parentId);]]></advanced_data_script>
        <advanced_data_script_row><![CDATA[/*
 * Ran after a single row for this data set are loaded
 * reportData: The work in progress data loading for the report - will not yet contain this row
 * grDataSet: The current data set
 * dataRow: The current row's plain javascript object for reporting
 * grDataRow: The GlideRecord for the current row
 * parentId: The ID of the parent record to the record currently being processed, or null if this is the root data set.
 */
(function postProcessRow(reportData, grDataSet, dataRow, grDataRow, parentId) {
	/* Your code here */
	
	if (grDataRow.title_holder.type == 'Individual')
		{
			dataRow.addr1 = String(grDataRow.title_holder.user.street);
			dataRow.addr2 = String(grDataRow.title_holder.user.city);
			dataRow.addr3 = String(grDataRow.title_holder.user.state);
			dataRow.addr4 = String(grDataRow.title_holder.user.zip);
		}
	if (grDataRow.title_holder.type == 'Company')
		{
			dataRow.addr1 = String(grDataRow.title_holder.company.street);
			dataRow.addr2 = String(grDataRow.title_holder.company.city);
			dataRow.addr3 = String(grDataRow.title_holder.company.state);
			dataRow.addr4 = String(grDataRow.title_holder.company.zip);
		}
	dataRow.date_sent = new GlideDate().getDisplayValue();
	
	// grab the titles and build a csv for titles in the ref. lst
	//title_name
	//title_aemr_last_submitted
	//region
	
})(reportData, grDataSet, dataRow, grDataRow, parentId);]]></advanced_data_script_row>
        <attachment_style>None</attachment_style>
        <include_all_fields>true</include_all_fields>
        <name>AEMR Reminder Report</name>
        <parent/>
        <parent_set_relationship/>
        <record_type>x_msap2_csa_si_aemr_reminder_letter</record_type>
        <report_type>MailMerge</report_type>
        <sys_class_name>x_msap2_report_gen_report_data_set</sys_class_name>
        <sys_created_by>admin</sys_created_by>
        <sys_created_on>2017-05-22 03:52:15</sys_created_on>
        <sys_customer_update>false</sys_customer_update>
        <sys_id>821a973a4f7a7200db2b5a701310c709</sys_id>
        <sys_mod_count>5</sys_mod_count>
        <sys_name>AEMR Reminder Report</sys_name>
        <sys_package display_value="Safety Incidents" source="x_msap2_csa_si">d9ed42ea4fbe3200db2b5a701310c76d</sys_package>
        <sys_policy/>
        <sys_replace_on_upgrade>false</sys_replace_on_upgrade>
        <sys_scope display_value="Safety Incidents">d9ed42ea4fbe3200db2b5a701310c76d</sys_scope>
        <sys_update_name>x_msap2_report_gen_report_data_set_821a973a4f7a7200db2b5a701310c709</sys_update_name>
        <sys_updated_by>admin</sys_updated_by>
        <sys_updated_on>2017-05-24 07:44:19</sys_updated_on>
        <u_dms_type/>
    </x_msap2_report_gen_report_data_set>
</record_update>
